<nav class="bg-background w-full flex justify-center items-center py-4 px-6">
    <div class="w-full max-w-screen-xl flex justify-center items-center relative delay-[500ms] duration-[600ms] taos:translate-y-[-200px] taos:opacity-0" data-taos-offset="500">
        <div class="flex justify-between items-center gap-6 w-full">
            <a href="/" class="text-white font-semibold text-xl">Joe Bostock</a>
            <div class="hidden md:flex flex-row gap-6 items-center justify-center" id="navbarItems">
                @foreach (var item in Outputs.FromPipeline("Content").Where(item => item.GetBool("Navbar")).OrderBy(item => item.GetInt("Order")))
                {
                    <a href="@item.GetLink()" class="text-white opacity-75 hover:opacity-100 transition-all duration-500">
                        @item.GetTitle()
                    </a>
                }

            </div>
            <a href="/contact" class="bg-purple hover:bg-pink transition-all duration-[400ms] text-white font-semibold px-4 py-2 rounded-lg text-center hidden md:flex">Contact me</a>
            <div class="md:hidden relative z-50">
                <button id="mobileMenuBtn" class="text-white focus:outline-none">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
                <div id="mobileMenuOverlay" class="hidden md:hidden fixed top-0 left-0 w-full h-full bg-black opacity-50 z-40"></div>
                <div id="mobileMenu" class="hidden md:hidden fixed top-0 left-0 w-full h-screen bg-background z-50 overflow-y-auto">
                    <div class="max-w-screen-sm py-4 px-6">
                        <div class="flex flex-col">
                            <div class="w-full justify-between flex items-center">
                                <a href="/" class="text-white font-semibold text-xl">Joe Bostock</a>
                                <div id="mobileCloseButton">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="24" height="24" class="fill-white">
                                        <path d="M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z" />
                                    </svg>
                                </div>
                            </div>
                            <hr class="w-full md:w-1/4 mt-5 h-0.5 bg-gradient-to-r from-transparent via-white to-transparent">
                            @foreach (var item in Outputs.FromPipeline("Content").Where(item => item.GetBool("Navbar")).OrderBy(item => item.GetInt("Order")))
                            {
                                <a href="@item.GetLink()" class="text-white hover:text-purple transition-all duration-300 flex flex-row w-full justify-between items-center my-4">
                                    @item.GetTitle()
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" height="24" width="24" class="fill-white">
                                        <path d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z" />
                                    </svg>
                                </a>
                            }
                            <hr class="w-full md:w-1/4 mt-5 h-0.5 bg-gradient-to-r from-transparent via-white to-transparent">
                            <a href="/contact" class="bg-purple text-white font-semibold px-4 py-2 rounded-lg text-center my-4">Contact me</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const mobileMenuBtn = document.getElementById("mobileMenuBtn");
        const mobileMenuOverlay = document.getElementById("mobileMenuOverlay");
        const mobileMenu = document.getElementById("mobileMenu");
        const mobileCross = document.getElementById("mobileCloseButton");

        mobileCross.addEventListener("click", function () {
            mobileMenuOverlay.classList.toggle('hidden');
            mobileMenu.classList.toggle("hidden");
        })
        mobileMenuBtn.addEventListener("click", function () {
            mobileMenuOverlay.classList.toggle("hidden");
            mobileMenu.classList.toggle("hidden");
        });

        mobileMenuOverlay.addEventListener("click", function () {
            mobileMenuOverlay.classList.add("hidden");
            mobileMenu.classList.add("hidden");
        });
    });
</script>
